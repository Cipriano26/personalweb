<!-- Blog Article (About Me loaded from WP) -->
<div class="max-w-3xl pt-6 px-4 sm:px-6 lg:px-8 mx-auto">
    <!-- Avatar Media -->
    <div class="flex justify-between items-center mb-6">
      <div class="flex w-full sm:items-center gap-x-5 sm:gap-x-3">
        <div class="shrink-0">
          <img class="size-12 rounded-full" src="https://github.com/Cipriano26.png" alt="Avatar">
        </div>

        <div class="grow">
          <div class="flex justify-between items-center gap-x-2">
            <div>
              <!-- Tooltip -->
              <div class="hs-tooltip [--trigger:hover] [--placement:bottom] inline-block">
                <div class="hs-tooltip-toggle sm:mb-1 block text-start cursor-pointer">
                  <span class="font-semibold text-gray-800 dark:text-neutral-200">
                    Cipriano Gorosito
                  </span>
                </div>
              </div>
              <!-- End Tooltip -->

              <ul class="text-xs text-gray-500 dark:text-neutral-500">
                <li class="inline-block relative pe-6 last:pe-0 last-of-type:before:hidden before:absolute before:top-1/2 before:end-2 before:-translate-y-1/2 before:size-1 before:bg-gray-300 before:rounded-full dark:text-neutral-400 dark:before:bg-neutral-600">
                  24 años
                </li>
                <li class="inline-block relative pe-6 last:pe-0 last-of-type:before:hidden before:absolute before:top-1/2 before:end-2 before:-translate-y-1/2 before:size-1 before:bg-gray-300 before:rounded-full dark:text-neutral-400 dark:before:bg-neutral-600">
                  Bs.As, Argentina
                </li>
              </ul>
            </div>

            <!-- Button Group -->
            <div>
              <a href="https://www.instagram.com/ciprianogn" target="_blank" rel="noopener noreferrer" aria-label="Abrir Instagram de @ciprianogn" class="py-1.5 px-2.5 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram-icon lucide-instagram"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
                Instagram
              </a>
            </div>
            <!-- End Button Group -->
          </div>
        </div>
      </div>
    </div>
    <!-- End Avatar Media -->
  <div class="w-full">
    <!-- Content a ancho completo del contenedor superior -->
    <div>
      <div class="py-8 lg:pe-8">
        <div class="space-y-5 lg:space-y-8">
          <h2 class="text-3xl font-bold lg:text-5xl text-gray-900 dark:text-white" [innerHTML]="post?.title?.rendered || 'Acerca de mí'"></h2>

          <!-- Loading skeleton -->
          <div *ngIf="loading" class="space-y-3">
            <div class="h-6 bg-gray-200 rounded dark:bg-neutral-700 w-2/3"></div>
            <div class="h-6 bg-gray-200 rounded dark:bg-neutral-700 w-3/4"></div>
            <div class="h-6 bg-gray-200 rounded dark:bg-neutral-700 w-1/2"></div>
            <div class="h-48 bg-gray-200 rounded dark:bg-neutral-700"></div>
          </div>

          <!-- Content from WP -->
          <div *ngIf="!loading" class="prose prose-neutral text-lg dark:prose-invert max-w-none !text-gray-800 dark:!text-neutral-200" [innerHTML]="post?.content?.rendered"></div>

          <!-- Interactions -->
          <div class="flex flex-col lg:flex-row lg:justify-between lg:items-center gap-y-5 lg:gap-y-0 mt-6">
            <!-- Badges/Tags -->
            <div *ngIf="tags?.length">
              <a *ngFor="let t of tags" class="m-0.5 inline-flex items-center gap-1.5 py-2 px-3 rounded-full text-sm bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-hidden focus:bg-gray-200 dark:bg-neutral-800 dark:text-neutral-200 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" [routerLink]="['/blog','tag', t.id]">
                {{ t.name }}
              </a>
            </div>

            <div class="flex justify-end items-center gap-x-1.5">
              <!-- Like -->
              <div class="hs-tooltip inline-block">
                <button type="button" (click)="toggleLike()" [disabled]="liked || isLiking" class="hs-tooltip-toggle flex items-center gap-x-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed" [ngClass]="liked ? 'text-red-600 dark:text-red-400' : 'text-gray-500 hover:text-gray-800 focus:outline-hidden focus:text-gray-800 dark:text-neutral-400 dark:hover:text-neutral-200 dark:focus:text-neutral-200'">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                  {{ likeCount }}
                  <span class="hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity inline-block absolute invisible z-10 py-1 px-2 bg-gray-900 text-xs font-medium text-white rounded-md shadow-2xs dark:bg-black" role="tooltip">
                    {{ liked ? 'Gracias!' : (isLiking ? 'Enviando…' : 'Like') }}
                  </span>
                </button>
              </div>

              <div class="block h-3 border-e border-gray-300 mx-3 dark:border-neutral-600"></div>

              <!-- Comment (scroll) -->
              <div class="hs-tooltip inline-block">
                <button type="button" (click)="scrollToComments()" class="hs-tooltip-toggle flex items-center gap-x-2 text-sm text-gray-500 hover:text-gray-800 focus:outline-hidden focus:text-gray-800 dark:text-neutral-400 dark:hover:text-neutral-200 dark:focus:text-neutral-200">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>
                  {{ comments.length || 0 }}
                  <span class="hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity inline-block absolute invisible z-10 py-1 px-2 bg-gray-900 text-xs font-medium text-white rounded-md shadow-2xs dark:bg-black" role="tooltip">
                    Comment
                  </span>
                </button>
              </div>

              <div class="block h-3 border-e border-gray-300 mx-3 dark:border-neutral-600"></div>

              <!-- Share Dropdown -->
              <div class="hs-dropdown relative inline-flex">
                <button id="hs-aboutme-share-dropdown" type="button" class="hs-dropdown-toggle flex items-center gap-x-2 text-sm text-gray-500 hover:text-gray-800 focus:outline-hidden focus:text-gray-800 dark:text-neutral-400 dark:hover:text-neutral-200 dark:focus:text-neutral-200" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>
                  Compartir
                  <span class="text-xs text-gray-400 dark:text-neutral-500">{{ shareCount }}</span>
                </button>
                <div class="hs-dropdown-menu w-56 hidden mb-1 z-10 bg-gray-900 shadow-md rounded-xl p-2 dark:bg-black" role="menu" aria-orientation="vertical" aria-labelledby="hs-aboutme-share-dropdown">
                  <button class="w-full text-left flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-400 hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:text-neutral-400 dark:hover:bg-neutral-900 dark:focus:bg-neutral-900" (click)="shareTo('copy')">
                    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
                    Copiar enlace
                  </button>
                  <div class="border-t border-gray-600 my-2 dark:border-neutral-800"></div>
                  <button class="w-full text-left flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-400 hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:text-neutral-400 dark:hover:bg-neutral-900 dark:focus:bg-neutral-900" (click)="shareTo('whatsapp')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-reply-icon lucide-message-circle-reply"><path d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"/><path d="m10 15-3-3 3-3"/><path d="M7 12h8a2 2 0 0 1 2 2v1"/></svg>
                    Compartir en WhatsApp
                  </button>
                  <button class="w-full text-left flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-400 hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:text-neutral-400 dark:hover:bg-neutral-900 dark:focus:bg-neutral-900" (click)="shareTo('facebook')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook-icon lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                    Compartir en Facebook
                  </button>
                  <button class="w-full text-left flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-400 hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:text-neutral-400 dark:hover:bg-neutral-900 dark:focus:bg-neutral-900" (click)="shareTo('instagram')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram-icon lucide-instagram"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
                    Compartir en Instagram
                  </button>
                </div>
              </div>
              <!-- End Share -->
            </div>
          </div>

          <!-- Comentarios -->
          <div id="comments" class="mt-10 space-y-6">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-neutral-200">Comentarios ({{ comments.length || 0 }})</h3>
            <!-- Lista de comentarios -->
            <div *ngIf="commentsLoading" class="space-y-3">
              <div class="h-4 bg-gray-200 rounded dark:bg-neutral-700 w-1/2"></div>
              <div class="h-4 bg-gray-200 rounded dark:bg-neutral-700 w-2/3"></div>
              <div class="h-4 bg-gray-200 rounded dark:bg-neutral-700 w-1/3"></div>
            </div>
            <div *ngIf="!commentsLoading && (commentSuccessMsg || commentErrorMsg)" class="text-sm">
              <div *ngIf="commentSuccessMsg" class="rounded-lg p-3 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300">{{ commentSuccessMsg }}</div>
              <div *ngIf="commentErrorMsg" class="rounded-lg p-3 bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300">{{ commentErrorMsg }}</div>
            </div>
            <div *ngIf="!commentsLoading && !(comments.length)" class="text-sm text-gray-500 dark:text-neutral-400">Sé el primero en comentar.</div>
            <div *ngIf="!commentsLoading && comments.length" class="space-y-4">
              <div *ngFor="let c of comments" class="border border-gray-200 rounded-xl p-4 dark:border-neutral-700">
                <div class="text-sm text-gray-800 dark:text-neutral-200 font-medium">{{ c?.author_name || 'Anónimo' }}</div>
                <div class="text-xs text-gray-500 dark:text-neutral-400">{{ c?.date | date:'medium' }}</div>
                <div class="mt-2 text-gray-700 dark:text-neutral-300" [innerHTML]="c?.content?.rendered"></div>
              </div>
            </div>

            <!-- Formulario comentario -->
            <form class="mt-6 space-y-4" (ngSubmit)="submitComment()">
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <input type="text" [(ngModel)]="commentAuthor" name="author" class="py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200" placeholder="Tu nombre (opcional)">
                <input type="email" [(ngModel)]="commentEmail" name="email" class="py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200" placeholder="Tu email (opcional)">
              </div>
              <textarea [(ngModel)]="commentContent" name="content" rows="4" class="py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200" placeholder="Escribe tu comentario..."></textarea>
              <div class="flex items-center gap-3">
                <button type="submit" [disabled]="sendingComment || !commentContent.trim()" class="inline-flex items-center gap-x-2 py-2 px-3 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none">
                  <svg *ngIf="sendingComment" class="animate-spin -ml-0.5 mr-1.5 size-4 text-white" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>
                  {{ sendingComment ? 'Enviando…' : 'Enviar comentario' }}
                </button>
                <span *ngIf="commentsLoading" class="text-xs text-gray-500 dark:text-neutral-400">Actualizando comentarios…</span>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- End Content -->
  </div>
</div>
<!-- End Blog Article -->